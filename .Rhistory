for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.15),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(1,0,xlim = c(1,4),ylim = c(-0.1,0.3),xaxt='n',type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),type = 'n')
stat = c()
par(mfrow = c(2,2))
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.15),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(1,0,xlim = c(1,4),ylim = c(-0.1,0.3),xaxt='n',type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.15),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(1,0,xlim = c(1,4),ylim = c(-0.1,0.3),xaxt='n',type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.15),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(1,0,xlim = c(1,4),ylim = c(-0.1,0.3),xaxt='n',type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = c("MV Portfolio","1/n Portfolio","Risk Parity Portfolio","Cluster Risk Parity"), col=cl, pch=1)
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
strategyList
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.15),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(1,0,xlim = c(1,4),ylim = c(-0.1,0.3),xaxt='n',type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
plot(Date,return,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),type = 'n')
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),xlab = "Time",ylab = "Return",type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),xlab = "Time",ylab = "Net Change in Return",type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(main = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"))
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',xlab = "Approaches",ylab = "Mean Return and CI",type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),xlab = "Time",ylab = "Return",type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(main = "Profit and loss curve",sub = paste0(as.character(nTickets), " equities, in ",
as.character(numCluster), " clusters"),outer = F)
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),xlab = "Time",ylab = "Net Change in Return",type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(main = "Net Change in P/L")
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',xlab = "Approaches",ylab = "Mean Return and CI",type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
title(main = "Mean Return and Confident Interval")
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),xlab = "Time",ylab = "Return",type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(sub = "Profit and loss curve",outer = F) #sub = paste0(as.character(nTickets), " equities, in ",as.character(numCluster), " clusters"),
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),xlab = "Time",ylab = "Net Change in Return",type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(sub = "Net Change in P/L")
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',xlab = "Approaches",ylab = "Mean Return and CI",type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
title(sub = "Mean Return and Confident Interval")
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),xlab = "Time",ylab = "Return",type = 'n',ann = F)
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(sub = "Profit and loss curve",outer = F) #sub = paste0(as.character(nTickets), " equities, in ",as.character(numCluster), " clusters"),
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),xlab = "Time",ylab = "Net Change in Return",type = 'n')
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(sub = "Net Change in P/L")
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',xlab = "Approaches",ylab = "Mean Return and CI",type = 'n')
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
title(sub = "Mean Return and Confident Interval")
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
Axis(side=2, labels=FALSE)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),xlab = "Time",ylab = "Return",type = 'n')
Axis(side=2, labels=FALSE)
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(sub = "Profit and loss curve",outer = F) #sub = paste0(as.character(nTickets), " equities, in ",as.character(numCluster), " clusters"),
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),xlab = "Time",ylab = "Net Change in Return",type = 'n')
Axis(side=2, labels=FALSE)
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(sub = "Net Change in P/L")
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',xlab = "Approaches",ylab = "Mean Return and CI",type = 'n')
Axis(side=2, labels=FALSE)
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
title(sub = "Mean Return and Confident Interval")
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
rf = 0.0078
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),xlab = "Time",ylab = "Return",type = 'n')
Axis(side=2, labels=FALSE)
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(sub = "Profit and loss curve",outer = F) #sub = paste0(as.character(nTickets), " equities, in ",as.character(numCluster), " clusters"),
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),xlab = "Time",ylab = "Net Change in Return",type = 'n')
Axis(side=2, labels=FALSE)
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(sub = "Net Change in P/L")
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',xlab = "Approaches",ylab = "Mean Return and CI",type = 'n')
Axis(side=2, labels=FALSE)
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
title(sub = "Mean Return and Confident Interval")
statDF = data.frame(stat)
row.names(statDF) = strategyList
names(statDF) = c('Return','Vol','Sharpe')
print(statDF)
plot(1,0,xlim = c(0.04,0.15),ylim = c(0.02,0.1),xaxt='n',xlab = "Return",ylab = "Volatility",type = 'n')
points(stat$Return,stat$Vol)
plot(1,0,xlim = c(0.04,0.15),ylim = c(0.02,0.1),xaxt='n',xlab = "Return",ylab = "Volatility",type = 'n')
points(stat[,Return],stat[,Vol])
plot(1,0,xlim = c(0.04,0.15),ylim = c(0.02,0.1),xaxt='n',xlab = "Return",ylab = "Volatility",type = 'n')
points(stat[,1],stat[,2])
stat
plot(1,0,xlim = c(0.05,0.12),ylim = c(0.02,0.1),xaxt='n',xlab = "Return",ylab = "Volatility",type = 'n')
points(stat[,1],stat[,2])
Axis(side=2, labels=T)
plot(1,0,xlim = c(0.05,0.12),ylim = c(0.02,0.1),xlab = "Return",ylab = "Volatility",type = 'n')
points(stat[,1],stat[,2])
Axis(side=2, labels=T)
plot(1,0,xlim = c(0.06,0.12),ylim = c(0.02,0.1),xlab = "Return",ylab = "Volatility",type = 'n')
points(stat[,1],stat[,2])
Axis(side=2, labels=T)
plot(1,0,xlim = c(0.06,0.12),ylim = c(0.02,0.1),xlab = "Return",ylab = "Volatility",type = 'n')
points(stat[,1],stat[,2],col = cl)
Axis(side=2, labels=T)
legend("bottomright", legend = strategyList, col=cl, pch=1)
plot(1,0,xlim = c(0.06,0.12),ylim = c(0.02,0.1),xlab = "Return",ylab = "Volatility",type = 'n')
points(stat[,1],stat[,2],col = cl,cex = 2, pch = 19)
Axis(side=2, labels=T)
legend("bottomright", legend = strategyList, col=cl, pch=1)
window = c(1,741+252*4);N = window[2]-window[1]+1
cl = c("cadetblue3","chartreuse3","brown3","darkgoldenrod3")
recTable = rbind(historyValueMvo,historyValueAo,historyValueRp,historyValueCrp)
time <- (startDate-1+window[1]):(startDate-1+window[2])
stat = c()
par(mfrow = c(2,2))
plot(time[1],1,xlim = c(time[1],time[length(time)]),ylim = c(0.50,3),xlab = "Time",ylab = "Return",type = 'n')
Axis(side=2, labels=FALSE)
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time,valRec, col=cl[i],type = 'l')
mu = log(valRec[N])*252/N
vol = sd(log(valRec),na.rm=F)*sqrt(252/N)
sharpe = (mu-rf)/vol
stat = rbind(stat,c(mu,vol,sharpe))
}
legend("topleft", legend = strategyList, col=cl, pch=1)
title(sub = "Profit and loss curve",outer = F) #sub = paste0(as.character(nTickets), " equities, in ",as.character(numCluster), " clusters"),
plot(startDate,1,xlim = c(time[1],time[length(time)]),ylim = c(0.80,1.3),xlab = "Time",ylab = "Net Change in Return",type = 'n')
Axis(side=2, labels=FALSE)
for (i in 1:nrow(recTable)){
valRec <- recTable[i,window[1]:window[2]]/recTable[i,window[1]]
lines(time[2:length(time)],valRec[2:length(valRec)]/valRec[1:length(valRec)-1], col=cl[i],type = 'l')
}
legend("topright",cex - 0.8,legend = strategyList, col=cl, pch=1)
title(sub = "Net Change in P/L")
plot(1,0,xlim = c(1,4),ylim = c(-0.3,0.3),xaxt='n',xlab = "Approaches",ylab = "Mean Return and CI",type = 'n')
Axis(side=2, labels=FALSE)
arrows(1:4,stat[,1]-stat[,2],1:4,stat[,1]+stat[,2],code=3,length=0.2,angle=90,col='black')
points(1:4,stat[,1],pch=19,col = cl,cex = 1.5)
axis(1, at=1:4, labels=strategyList)
legend("bottomleft", legend = strategyList, col=cl, pch=1)
title(sub = "Mean Return and Confident Interval")
plot(1,0,xlim = c(0.06,0.12),ylim = c(0.02,0.1),xlab = "Return",ylab = "Volatility",type = 'n')
points(stat[,1],stat[,2],col = cl,cex = 2, pch = 19)
Axis(side=2, labels=T)
legend("bottomright", legend = strategyList, col=cl, pch=19)
save.image("F:/mywd/riskParity/code/fullRun2_150_252_21.RData")
